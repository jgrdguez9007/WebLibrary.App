@model WebLibrary.App.Controllers.AdminController.UploadResultVm
@{
  ViewData["Title"] = "Documento procesado";
  var cat  = (Model?.Category ?? "").ToLowerInvariant();
  var type = (Model?.DocType  ?? "").ToLowerInvariant();
  var listUrl = string.IsNullOrEmpty(cat)
    ? "/docs"
    : (string.IsNullOrEmpty(type) ? "/docs?cat=" + cat : "/docs?cat=" + cat + "&type=" + type);
}
<section class="space-y-8">
  <div class="rounded-2xl bg-white shadow-sm ring-1 ring-black/5 p-6 flex items-start gap-6">
    <!-- Miniatura pequeña, sin recorte -->
    <div class="w-36 h-48 bg-slate-100 border grid place-items-center rounded-lg overflow-hidden">
      <img src="@Model.ThumbUrl" alt="Portada" class="max-h-full max-w-full object-contain" />
    </div>

    <div class="flex-1">
      <h1 class="text-2xl font-bold tracking-tight">@Model.Title</h1>

      <div class="mt-1 text-[11px] uppercase tracking-wide text-slate-500">
        @(string.IsNullOrEmpty(cat) ? "" : cat.Replace("-", " "))
        @(string.IsNullOrEmpty(type) ? "" : " · " + type.Replace("-", " "))
      </div>

      @if (Model.Date.HasValue)
      {
        <p class="mt-1 text-xs text-slate-500">Procesado: @Model.Date.Value.ToString("yyyy-MM-dd HH:mm")</p>
      }

      <div class="mt-4 flex flex-wrap gap-2">
        @if (!string.IsNullOrEmpty(Model.PdfUrl))
        {
          <a href="@Model.PdfUrl" target="_blank"
             class="rounded-lg bg-slate-900 text-white px-4 py-2 text-sm hover:bg-slate-700">Ver PDF</a>
        }
        @if (!string.IsNullOrEmpty(Model.JsonUrl))
        {
          <a href="@Model.JsonUrl" target="_blank"
             class="rounded-lg border px-4 py-2 text-sm hover:bg-slate-50">JSON</a>
        }
        <a href="@listUrl" class="rounded-lg border px-4 py-2 text-sm hover:bg-slate-50">Ver en listado</a>
        <a href="/admin" class="rounded-lg border px-4 py-2 text-sm hover:bg-slate-50">Subir otro</a>
      </div>
    </div>
  </div>
</section>
